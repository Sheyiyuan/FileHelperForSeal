# 文件助手

一个为 SealDice 设计的文件助手插件，允许用户通过简单的指令快速获取预设的文件。

## 功能介绍

- 支持通过自定义指令快速发送预设文件
- 支持群聊和私聊两种使用场景
- 可自定义文件列表和触发指令
- 提供友好的错误提示和操作反馈

## 安装方法

1. 确保已安装 SealDice 骰子机器人
2. 将本扩展放置到 SealDice 的扩展目录中
3. 重启 SealDice 加载扩展

## 配置说明

扩展加载后，可以通过 SealDice 的配置界面进行以下设置：

| 配置项名称       | 类型   | 默认值                                                      | 描述                                         |
|-------------|------|----------------------------------------------------------|--------------------------------------------|
| 协议端 http 地址 | 字符串  | http://127.0.0.1:63000                                   | 协议端的HTTP服务地址，用于上传文件                        |
| 协议端 token   | 字符串  | 空                                                        | 协议端认证所需的Token                              |
| 获取文件指令      | 字符串  | 骰娘请给我                                                    | 用户获取文件时使用的指令前缀                             |
| 发送文案        | 字符串  | 正在为您发送文件：                                                | 发送文件时的提示文案前缀                               |
| 文件列表        | 模板数组 | [{"文件名":"coc角色卡","文件路径":"/home/dice/files/coc角色卡.xlsx"}] | 预定义的文件列表，每个文件包含文件名和文件路径（必须使用绝对路径并确保协议端可访问） |
| 是否允许群聊使用    | 布尔值  | true                                                     | 是否允许在群聊中使用文件助手功能                           |

### 重要说明

- 目前仅支持分离部署的协议，不支持内置协议
- 文件路径必须使用绝对路径，并且保证协议端可以访问这些文件

### 文件列表配置格式

文件列表使用JSON数组格式，每个文件配置包含以下字段：

```json
  {
    "文件名": "文件显示名称",
    "文件路径": "文件的绝对路径"
  }
```

您可以添加多个文件配置，每个配置占据数组中的一个元素。

## 使用方法

### 1. 查看帮助信息

在群聊或私聊中发送：
```command
.文件助手
```
助手读取配置项中的文件列表，并回复帮助信息。

### 2. 获取文件

使用配置的指令前缀加上文件名来获取文件：
```command
骰娘请给我[文件名]
```
例如：
```command
骰娘请给我coc角色卡
```

## 项目结构

```plainText
├── src/ 
│ ├── index.ts # 主入口文件，包含扩展注册和指令处理 
│ └── api.ts # API请求相关功能 
└── README.md # 项目说明文档
```

## 开发说明

如果您想修改或扩展本项目：

1. 确保安装了 Node.js 和 npm
2. 克隆项目仓库
3. 安装依赖：`npm install`
4. 修改源码后，使用 `npm run build` 编译项目

## 许可证

本项目使用 [MIT](LICENSE) 许可证。

## 鸣谢

本项目基于 SealDice 团队提供的插件模版开发。

感谢 SealDice 团队的辛勤工作！

感谢热心群友的建议和反馈。
